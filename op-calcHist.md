The **calcHist** operation is the _FireSight_ wrapper for the [OpenCV calcHist](http://docs.opencv.org/modules/imgproc/doc/histograms.html?highlight=histogram#histograms)

* **accumulate** If true, bin values for separate channels will be summed. Default is `false`
* **channels** is a JSON vector of channel indexes. The default is `[]`, which will use all image channels. For an RGB image, this will be identical to `[0 1 2]`. For a monochrome image, this will be identical to `[0]`. The maximum number of channels in the array is 4.
* **dims** histogram dimensions. Default is `1`. At this time, only 1 dimension is supported.
* **rangeMax** maximum (exclusive)( value to use for range. Default is `256`
* **rangeMin** minimum (inclusive) value to use for range. Default is `0`

The current _FireSight_ implementation of **calcHist** only supports 1-dimensional histograms. Future implementations may support the full capability of OpenCV.

#### Model
For single channel images or if _accumulate_ is true, the histogram model is a sparse JSON object of integers:
<pre>{
"hist":{
   "0":40751,
   "1":60157,
...
  "216":2
  }
}</pre>

For color images when _accumulates_ is false, the model has one histogram value for each selected channel:
<pre>{
"hist":{
   "0":[28983,40751,35947],
   "1":[44643,60157,53446],
...
  "236":[0,0,1]
  }
}</pre>

#### Example 1: multi-channel histogram [pipeline](https://github.com/firepick1/FireSight/blob/master/json/calcHist.json)
<pre>firesight -i img/absdiff.png  -p json/calcHist.json -ji 0</pre>



<pre>{
  "FireSight":{"version":"0.8.5","url":"https://github.com/firepick1/FireSight"},
  "s1":{
    "hist":{"0":[28983,40751,35947],"1":[44643,60157,53446],"2":[32218,31629,31239],"3":[20703,14917,17986],"4":[12443,6458,9634],"5":[7446,2721,4950],"6":[4537,945,2461],"7":[2722,355,1248],"8":[1747,126,596],"9":[1134,59,307],"10":[734,39,165],"11":[471,35,67],"12":[314,53,30],"13":[206,45,38],"14":[138,44,27],"15":[94,45,20],"16":[86,34,24],"17":[60,42,34],"18":[55,43,21],"19":[51,35,24],"20":[48,18,24],"21":[52,22,37],"22":[38,16,41],"23":[44,17,40],"24":[39,24,34],"25":[36,31,40],"26":[32,25,25],"27":[31,41,34],"28":[30,26,24],"29":[30,30,24],"30":[48,22,13],"31":[34,34,17],"32":[33,32,11],"33":[35,18,13],"34":[30,20,13],"35":[26,26,9],"36":[27,19,19],"37":[22,16,23],"38":[16,21,18],"39":[18,23,16],"40":[17,31,21],"41":[16,28,27],"42":[17,26,22],"43":[18,23,23],"44":[17,21,29],"45":[14,30,35],"46":[14,14,24],"47":[10,13,26],"48":[7,18,29],"49":[5,7,27],"50":[9,10,13],"51":[8,10,15],"52":[9,14,19],"53":[14,4,22],"54":[10,12,13],"55":[6,3,14],"56":[6,13,8],"57":[7,6,13],"58":[7,4,21],"59":[8,8,12],"60":[11,4,21],"61":[6,4,18],"62":[11,6,19],"63":[4,6,30],"64":[6,0,20],"65":[3,6,16],"66":[4,1,17],"67":[3,0,21],"68":[1,1,23],"69":[1,1,23],"70":[2,1,28],"71":[2,2,17],"72":[5,4,12],"73":[2,1,14],"74":[0,0,10],"75":[3,0,13],"76":[2,1,14],"77":[0,3,9],"78":[3,0,15],"79":[3,3,7],"80":[1,1,14],"81":[1,2,10],"82":[2,3,10],"83":[5,0,10],"84":[2,1,7],"85":[3,1,13],"86":[3,2,12],"87":[2,0,12],"88":[2,0,7],"89":[5,0,3],"90":[10,0,7],"91":[2,0,5],"92":[6,1,3],"93":[5,2,8],"94":[6,0,6],"95":[8,3,9],"96":[5,1,3],"97":[9,2,8],"98":[5,2,5],"99":[5,1,6],"100":[10,0,3],"101":[5,0,1],"102":[4,2,4],"103":[5,1,3],"104":[7,1,3],"105":[7,4,2],"106":[11,1,3],"107":[5,4,3],"108":[5,6,5],"109":[5,2,3],"110":[8,3,1],"111":[7,0,2],"112":[10,3,2],"113":[9,3,1],"114":[4,1,1],"115":[7,0,4],"116":[3,2,3],"117":[7,2,3],"118":[7,2,5],"119":[6,2,2],"120":[7,2,1],"121":[5,3,1],"122":[2,4,0],"123":[1,4,2],"124":[5,4,3],"125":[6,1,0],"126":[2,1,3],"127":[2,7,2],"128":[1,1,1],"129":[1,6,2],"130":[1,5,3],"131":[0,5,2],"132":[0,1,1],"133":[0,4,0],"134":[1,6,4],"135":[1,2,1],"136":[1,2,0],"137":[0,5,1],"138":[0,3,1],"139":[0,4,3],"140":[0,4,3],"141":[0,4,0],"142":[0,4,2],"143":[0,5,4],"144":[0,6,4],"145":[0,12,2],"146":[0,9,0],"147":[0,11,2],"148":[0,8,0],"149":[0,12,0],"150":[0,8,1],"151":[0,14,0],"152":[0,7,3],"153":[0,8,0],"154":[0,10,2],"155":[0,7,1],"156":[0,8,4],"157":[0,8,5],"158":[0,7,3],"159":[0,7,3],"160":[0,9,3],"161":[0,6,1],"162":[0,10,5],"163":[0,12,5],"164":[0,12,5],"165":[0,9,5],"166":[0,11,8],"167":[0,11,2],"168":[0,14,3],"169":[0,8,2],"170":[0,10,6],"171":[0,10,4],"172":[0,11,8],"173":[0,8,2],"174":[0,10,3],"175":[0,16,2],"176":[0,9,2],"177":[0,3,1],"178":[0,10,5],"179":[0,8,4],"180":[0,9,4],"181":[0,15,3],"182":[0,5,2],"183":[0,9,0],"184":[0,7,1],"185":[0,8,7],"186":[0,7,4],"187":[0,6,6],"188":[0,8,5],"189":[0,3,0],"190":[0,4,4],"191":[0,3,2],"192":[0,5,2],"193":[0,6,2],"194":[0,5,2],"195":[0,5,4],"196":[0,4,3],"197":[0,6,5],"198":[0,3,2],"199":[0,4,1],"200":[0,2,1],"201":[0,4,2],"202":[0,4,2],"203":[0,8,1],"204":[0,3,3],"205":[0,4,6],"206":[0,2,2],"207":[0,1,1],"208":[0,1,4],"209":[0,0,4],"210":[0,1,7],"211":[0,0,3],"212":[0,0,4],"213":[0,3,0],"214":[0,1,6],"215":[0,2,4],"216":[0,2,3],"217":[0,0,6],"218":[0,0,1],"219":[0,0,1],"220":[0,0,3],"221":[0,0,3],"223":[0,0,3],"224":[0,0,2],"225":[0,0,1],"226":[0,0,1],"227":[0,0,1],"228":[0,0,1],"229":[0,0,1],"232":[0,0,1],"233":[0,0,2],"234":[0,0,3],"236":[0,0,1]}
  }
}</pre>